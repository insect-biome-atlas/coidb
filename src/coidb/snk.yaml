tagline: "A python package for processing metabarcoding references"
conda: False

cli:
  input_file: 
    type: path
    short: "i"
    help: "Input tar.gz archive dowloaded from BOLD"
  output_dir:
    type: path
    short: "o"
    help: "Folder to store database files in"
    default: "results"
  account:
    short: "A"
    type: string
    help: "Compute account id for running on SLURM cluster"
    default: ""
    required: False
  temp_dir:
    type: path
    help: "Folder for temporary files"
    default: "tmp"
  gbif_backbone:
    type: boolean
    help: "Use GBIF backbone to infer consensus taxonomy for BOLD BINs"
    default: False
  consensus_threshold:
    type: int
    help: "Threshold (in %) when calculating consensus taxonomy"
    default: 80
  consensus_method:
    type: str
    help: "Method to use when calculating consensus"
    choices: 
      - rank
      - full
    default: rank
  consensus_exclude_missing_data:
    type: boolean
    help: "Exclude labels with missing data when calculating consensus taxonomy"
    default: False
  vsearch_identity:
    type: float
    help: "Identity at which to cluster sequences per BIN"
    default: 1.0
  ranks:
    type: list[str]
    help: Ranks to use for calculating consensus and generating fastas
    default: ["kingdom","phylum","class","order","family","genus","species"]
  min_len:
    type: int
    help: "Minimum length of sequences to include"
    default: 500
  batch_size:
    type: int
    help: "Number of BOLD bins to run vsearch for at a time"
    default: 50000